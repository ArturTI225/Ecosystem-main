{% extends 'base.html' %}
{% load static %}

{% block body_class %}lesson-page{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'estudy/lesson.css' %}">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css">
{% endblock %}

{% block page_content %}
<div class="lesson-root" data-lesson-slug="{{ lesson.slug }}">
    <section class="lesson-hero lesson-section" id="intro" data-lesson-section="Intro" data-animate>
        <div class="lesson-hero__copy">
            <span class="lesson-pill">Nivel {{ lesson.level|default:1 }}</span>
            <h1>{{ lesson.title|default:"Nivel 1 Â· Prieteni cu variabilele" }}</h1>
            <p>{{ lesson.theory_intro|default:lesson.excerpt|default:"DescoperÄƒ cum poÈ›i folosi variabilele pentru a face programele mai inteligente." }}</p>

            <div class="lesson-hero__metrics">
                <div class="lesson-metric">
                    <span aria-hidden="true">ðŸ•’</span>
                    <small>DuratÄƒ</small>
                    <strong>{{ lesson.duration_minutes|default:15 }} minute</strong>
                </div>
                <div class="lesson-metric">
                    <span aria-hidden="true">ðŸŽ¯</span>
                    <small>Nivel</small>
                    <strong>{{ lesson.get_difficulty_display|default:"ÃŽncepÄƒtor" }}</strong>
                </div>
                <div class="lesson-metric">
                    <span aria-hidden="true">âš¡</span>
                    <small>XP</small>
                    <strong>+{{ lesson.xp_reward|default:40 }}</strong>
                </div>
                <div class="lesson-metric">
                    <span aria-hidden="true">ðŸ“…</span>
                    <small>Data</small>
                    <strong>{{ lesson.date|date:"d MMM yyyy" }}</strong>
                </div>
            </div>

            <div class="lesson-progress-tracker" data-progress-container>
                <div class="lesson-progress lesson-progress--hero">
                    <div class="lesson-progress__track">
                        <span class="lesson-progress__bar" data-lesson-progress-bar aria-valuemin="0" aria-valuemax="100"></span>
                    </div>
                    <span class="lesson-progress__label"><span data-lesson-progress-count>0</span>% complet</span>
                </div>
                <div class="lesson-progress__stages" role="list">
                    <button type="button" class="progress-stage is-active" data-progress-stage="concept" data-stage-percent="0" title="Teorie & exemple">
                        <span>Concept</span>
                    </button>
                    <button type="button" class="progress-stage" data-progress-stage="example" data-stage-percent="25" title="RuleazÄƒ codul">
                        <span>Exemple</span>
                    </button>
                    <button type="button" class="progress-stage" data-progress-stage="practice" data-stage-percent="55" title="ExerciÈ›ii practice">
                        <span>Practice</span>
                    </button>
                    <button type="button" class="progress-stage" data-progress-stage="test" data-stage-percent="80" title="Test final">
                        <span>Test</span>
                    </button>
                    <button type="button" class="progress-stage" data-progress-stage="summary" data-stage-percent="100" title="Rezumat & level up">
                        <span>Summary</span>
                    </button>
                </div>
            </div>

            <div class="lesson-hero__actions">
                <a class="btn btn--primary" href="#practice" data-smooth-scroll>ÃŽncepe practica</a>
                {% if next_lesson %}
                    <a class="btn btn--ghost" href="{% url 'estudy:lesson_detail' slug=next_lesson.slug %}" data-next-lesson>UrmÄƒtoarea lecÈ›ie</a>
                {% else %}
                    <a class="btn btn--ghost" href="#summary" data-smooth-scroll>Vezi concluziile</a>
                {% endif %}
            </div>
        </div>

        <div class="lesson-hero__status">
            <div class="player-card" data-xp-card data-xp-key="unitex-lesson-{{ lesson.slug|default:'demo' }}" data-xp-reward="{{ lesson.xp_reward|default:40 }}">
                <div class="player-card__row">
                    <span>XP total</span>
                    <strong data-xp-amount>120</strong>
                </div>
                <div class="player-card__stats">
                    <div>
                        <small>Nivel</small>
                        <strong data-xp-level>1</strong>
                    </div>
                    <div>
                        <small>Badge</small>
                        <strong data-xp-badge>Beginner</strong>
                    </div>
                    <div>
                        <small>Streak</small>
                        <strong><span data-xp-streak>0</span> ðŸ”¥</strong>
                    </div>
                </div>
                <p data-xp-message>Èšine ritmul. Ai deja 0 misiuni consecutive!</p>
            </div>
            <figure class="lesson-hero__visual" aria-hidden="true">
                <img src="https://illustrations.popsy.co/emerald/online-learning.svg" alt="">
            </figure>
        </div>
    </section>

    <div class="lesson-layout">
        <aside class="lesson-sidebar" aria-label="Navigare lecÈ›ie">
            <div class="lesson-sidebar__nav" data-lesson-nav>
                <span class="lesson-sidebar__title">ðŸ§­ Etape</span>
                <nav class="lesson-nav">
                    <a class="lesson-nav__link is-active" href="#concept" data-lesson-toc-link data-lesson-nav-link>
                        <span>ðŸ“˜ Concept</span>
                        <small>Teorie + exemple</small>
                    </a>
                    <a class="lesson-nav__link" href="#example" data-lesson-toc-link data-lesson-nav-link>
                        <span>ðŸ§© Example</span>
                        <small>RuleazÄƒ codul</small>
                    </a>
                    <a class="lesson-nav__link" href="#practice" data-lesson-toc-link data-lesson-nav-link>
                        <span>ðŸ’» Practice</span>
                        <small>ExerciÈ›ii interactive</small>
                    </a>
                    <a class="lesson-nav__link" href="#test" data-lesson-toc-link data-lesson-nav-link>
                        <span>ðŸ§  Test</span>
                        <small>VerificÄƒ-È›i rÄƒspunsul</small>
                    </a>
                    <a class="lesson-nav__link" href="#assistant" data-lesson-toc-link data-lesson-nav-link>
                        <span>ðŸ¤– Asistent</span>
                        <small>ÃŽntrebÄƒri rapide</small>
                    </a>
                    {% if lesson_materials %}
                    <a class="lesson-nav__link" href="#resources" data-lesson-toc-link data-lesson-nav-link>
                        <span>ðŸ“š Resurse</span>
                        <small>Articole & video</small>
                    </a>
                    {% endif %}
                    <a class="lesson-nav__link" href="#summary" data-lesson-toc-link data-lesson-nav-link>
                        <span>ðŸš€ Summary</span>
                        <small>Level up & streak</small>
                    </a>
                </nav>
            </div>
            <label class="lesson-sidebar__select" for="lesson-mobile-toc">
                <span>Salt rapid</span>
                <select id="lesson-mobile-toc">
                    <option value="#concept">Concept</option>
                    <option value="#example">Example</option>
                    <option value="#practice">Practice</option>
                    <option value="#test">Test</option>
                    <option value="#assistant">Assistant</option>
                    {% if lesson_materials %}
                        <option value="#resources">Resources</option>
                    {% endif %}
                    <option value="#summary">Summary</option>
                </select>
            </label>
            <div class="lesson-sidebar__tip">
                <p><strong data-lesson-progress-count>0</strong>% din lecÈ›ie finalizat</p>
                <p data-streak-message>Tu deja ai parcurs 0 zile la rÃ¢nd. Èšine-l aprins!</p>
            </div>
        </aside>

        <div class="lesson-body">
            <section class="lesson-section lesson-card" id="concept" data-lesson-section="Concept" data-animate>
                <header class="lesson-card__header">
                    <span class="lesson-card__icon" aria-hidden="true">ðŸ“˜</span>
                    <div>
                        <h2>Concept</h2>
                        <p>Tot ce È›ine de teorie È™i exemple clare Ã®ntr-un singur loc.</p>
                    </div>
                </header>

                <div class="lesson-tabs" data-tab-group="concept">
                    <div class="lesson-tabs__list" role="tablist">
                        <button class="lesson-tab is-active" type="button" role="tab" aria-selected="true" data-tab-trigger="theory">Teorie</button>
                        <button class="lesson-tab" type="button" role="tab" aria-selected="false" data-tab-trigger="examples">Exemple</button>
                    </div>
                    <div class="lesson-tabs__panels">
                        <article class="lesson-tab__panel is-active" role="tabpanel" data-tab-panel="theory">
                            <div class="lesson-prose">
                                <p>{{ lesson.content|default:"O variabilÄƒ pÄƒstreazÄƒ o informaÈ›ie importantÄƒ pe care codul tÄƒu o poate folosi È™i modifica."|linebreaksbr }}</p>
                                {% if lesson.theory_points %}
                                    <ul class="lesson-checklist">
                                        {% for point in lesson.theory_points %}
                                            <li>{{ point }}</li>
                                        {% endfor %}
                                    </ul>
                                {% endif %}
                            </div>
                            {% if lesson.theory_notes %}
                                <div class="lesson-note" role="note">
                                    <span class="lesson-note__title">Note importante</span>
                                    {{ lesson.theory_notes|linebreaks }}
                                </div>
                            {% endif %}
                        </article>
                        <article class="lesson-tab__panel" role="tabpanel" data-tab-panel="examples" hidden>
                            <div class="lesson-prose">
                                <p>{{ lesson.explainer|default:"Recapitulare rapidÄƒ Ã®n trei idei scurte."|linebreaks }}</p>
                            </div>
                            <div class="lesson-snippet" data-code-block>
                                <div class="lesson-snippet__toolbar">
                                    <span>Python</span>
                                    <button type="button" class="btn btn--ghost lesson-code__copy" data-copy-code>CopiazÄƒ codul</button>
                                </div>
                                <pre class="language-python"><code>{% if enrichment.code_challenges %}{{ enrichment.code_challenges.0.solution|default:"nume = \"Alex\"\nvarsta = 12\nmesaj = f\"Salut, {nume}! Ai {varsta} ani.\"\nprint(mesaj)" }}{% else %}nume = "Alex"
varsta = 12
mesaj = f"Salut, {nume}! Ai {varsta} ani."
print(mesaj){% endif %}</code></pre>
                            </div>
                        </article>
                    </div>
                </div>
            </section>

            <section class="lesson-section lesson-card lesson-card--assistant" id="assistant" data-lesson-section="Assistant" data-animate>
                <header class="lesson-card__header">
                    <span class="lesson-card__icon" aria-hidden="true">ðŸ¤–</span>
                    <div>
                        <h2>Asistent AI</h2>
                        <p>Pune o Ã®ntrebare despre aceastÄƒ lecÈ›ie È™i primeÈ™ti imediat un indiciu.</p>
                    </div>
                </header>
                <form class="ai-hint-form" method="post" action="{% url 'estudy:ai_hint' slug=lesson.slug %}" data-ai-hint-form>
                    {% csrf_token %}
                    <label class="ai-hint-form__field">
                        <span>ÃŽntrebarea ta</span>
                        <textarea name="question" rows="3" placeholder="ex: Nu Ã®nÈ›eleg diferenÈ›a dintre variabile È™i constante..." required></textarea>
                    </label>
                    <div class="ai-hint-form__actions">
                        <button type="submit" class="btn btn--primary">Cere un indiciu</button>
                        <p class="ai-hint-form__status" data-ai-hint-status aria-live="polite"></p>
                    </div>
                    <div class="ai-hint-form__result hidden" data-ai-hint-output>
                        <strong>RÄƒspuns AI:</strong>
                        <p></p>
                    </div>
                </form>
            </section>

            {% if lesson_materials %}
            <section class="lesson-section lesson-card lesson-card--resources" id="resources" data-lesson-section="Resources" data-animate>
                <header class="lesson-card__header">
                    <span class="lesson-card__icon" aria-hidden="true">ðŸ“š</span>
                    <div>
                        <h2>Resurse suplimentare</h2>
                        <p>ExploreazÄƒ articole È™i videoclipuri care Ã®ntÄƒresc lecÈ›ia.</p>
                    </div>
                </header>
                <div class="resource-list">
                    {% for material in lesson_materials %}
                        <article class="resource-card">
                            <span class="resource-card__badge resource-card__badge--{{ material.resource_type }}">
                                {{ material.get_resource_type_display }}
                            </span>
                            <h3 class="resource-card__title">{{ material.title }}</h3>
                            <a href="{{ material.url }}" target="_blank" rel="noopener" class="resource-card__link">
                                Deschide resursa
                            </a>
                        </article>
                    {% endfor %}
                </div>
            </section>
            {% endif %}

            <section class="lesson-section lesson-card lesson-card--code-lab" id="example" data-lesson-section="Example" data-animate>
                <header class="lesson-card__header">
                    <span class="lesson-card__icon" aria-hidden="true">ðŸ§©</span>
                    <div>
                        <h2>Example Â· CodeEditor</h2>
                        <p>Scrie, ruleazÄƒ È™i urmÄƒreÈ™te output-ul Ã®ntr-o mini consolÄƒ.</p>
                    </div>
                </header>
                {% with starter=enrichment.code_challenges.0.starter|default:"nume = \"Alex\"\nvarsta = 12\nprint(f\"Salut, {nume}! Ai {varsta} ani.\")" %}
                <div class="code-lab" data-code-lab>
                    <div class="code-lab__header">
                        <span>Editor live</span>
                        <div class="code-lab__chips">
                            <span>Python 3.11</span>
                            <span>Pyodide runtime</span>
                        </div>
                    </div>
                    <div class="code-lab__grid">
                        <label class="code-lab__field">
                            <span>Codul tÄƒu</span>
                            <textarea class="code-lab__editor" data-code-input>{{ starter }}</textarea>
                        </label>
                        <div class="code-lab__preview language-python" data-code-preview>
                            <code class="language-python">{{ starter }}</code>
                        </div>
                    </div>
                    <label class="code-lab__field code-lab__field--inline">
                        <span>Input opÈ›ional</span>
                        <input type="text" placeholder='Valorile pentru input() separate prin Enter' data-code-stdin>
                    </label>
                    <div class="code-lab__actions">
                        <div class="code-lab__status" data-code-status>PregÄƒtit âš¡</div>
                        <div class="code-lab__buttons">
                            <button type="button" class="btn btn--primary" data-code-run>Run</button>
                            <button type="button" class="btn btn--ghost" data-code-reset>Reset</button>
                        </div>
                    </div>
                    <div class="code-lab__console" data-code-output aria-live="polite">
                        Consola aÈ™teaptÄƒ sÄƒ rulezi codulâ€¦
                    </div>
                    <div class="code-lab__reward" data-code-reward aria-hidden="true">
                        <strong>XP +10</strong>
                        <span>Great job!</span>
                    </div>
                </div>
                {% endwith %}
                <p class="lesson-code-caption">Nu uita: dacÄƒ vezi o eroare, citeÈ™te mesajul È™i corecteazÄƒ. E parte din proces.</p>
            </section>

            <section class="lesson-section lesson-card" id="practice" data-lesson-section="Practice" data-animate>
                <header class="lesson-card__header">
                    <span class="lesson-card__icon" aria-hidden="true">ðŸ’»</span>
                    <div>
                        <h2>Practice</h2>
                        <p>Drag & drop cu feedback instant È™i explicaÈ›ii.</p>
                    </div>
                </header>
                <div class="lesson-prose">
                    <p>AplicÄƒ teoria Ã®n douÄƒ paÈ™i: citeÈ™te scenariul, apoi potriveÈ™te conceptele. DacÄƒ te blochezi, apasÄƒ pe <strong>ðŸ’¡ Tip</strong>.</p>
                </div>

                <div class="practice-grid">
                    <article class="practice-subcard practice-subcard--briefing">
                        <div class="practice-subcard__header">
                            <h3>1. Briefing</h3>
                            <button type="button" class="lesson-hint" data-hint-toggle>ðŸ’¡ Tip</button>
                        </div>
                        <p>{{ practice.instructions|default:"AnalizeazÄƒ fiecare descriere È™i leag-o de conceptul potrivit. Ai nelÄƒmuriri? Deschide hint-ul." }}</p>
                        <div class="lesson-hint__panel" data-hint-panel hidden>
                            <p>{{ practice.data.hint|default:"ObservÄƒ cuvintele cheie (valoare, nume, actualizare). Sunt indicii pentru rolul variabilei." }}</p>
                        </div>
                    </article>

                    <article class="practice-subcard practice-subcard--match" data-drag-container>
                        <div class="match-columns">
                            <div>
                                <p class="lesson-prose"><strong>Elemente disponibile</strong></p>
                                <ul class="match-bank" data-draggable-source>
                                    {% if practice and practice.data.draggables %}
                                        {% for item in practice.data.draggables %}
                                            <li class="match-token" draggable="true" data-id="{{ item.id }}">{{ item.label }}</li>
                                        {% endfor %}
                                    {% else %}
                                        <li class="match-token" draggable="true" data-id="concept">Concept cheie</li>
                                        <li class="match-token" draggable="true" data-id="definitie">DefiniÈ›ie</li>
                                        <li class="match-token" draggable="true" data-id="exemplu">Exemplu</li>
                                    {% endif %}
                                </ul>
                            </div>
                            <div>
                                <p class="lesson-prose"><strong>PotriveÈ™te cu:</strong></p>
                                {% if practice %}
                                    {% with targets=practice.data.targets %}
                                        <ul class="match-list"
                                            data-draggable-target
                                            data-success-message="{{ practice.data.success_message|default:'Super! Ordinea este corectÄƒ.' }}">
                                            {% if targets %}
                                                {% for target in targets %}
                                                    <li class="match-slot" data-id="{{ target.id }}">
                                                        <span class="match-slot__label">{{ target.label }}</span>
                                                        <div class="match-slot__drop" data-drop-zone data-expected-id="{{ target.id }}">
                                                            <span data-placeholder>Trage elementul aici</span>
                                                        </div>
                                                    </li>
                                                {% endfor %}
                                            {% else %}
                                                <li class="match-slot" data-id="concept">
                                                    <span class="match-slot__label">Ce reprezintÄƒ o variabilÄƒ?</span>
                                                    <div class="match-slot__drop" data-drop-zone data-expected-id="concept">
                                                        <span data-placeholder>Trage elementul aici</span>
                                                    </div>
                                                </li>
                                                <li class="match-slot" data-id="exemplu">
                                                    <span class="match-slot__label">Exemplu de variabilÄƒ</span>
                                                    <div class="match-slot__drop" data-drop-zone data-expected-id="exemplu">
                                                        <span data-placeholder>Trage elementul aici</span>
                                                    </div>
                                                </li>
                                            {% endif %}
                                        </ul>
                                    {% endwith %}
                                {% else %}
                                    <p class="lesson-prose">Activitatea se Ã®ncarcÄƒ. ReÃ®ncearcÄƒ mai tÃ¢rziu.</p>
                                {% endif %}
                            </div>
                        </div>
                        <div class="practice-controls practice-controls--secondary">
                            <button type="button" class="btn btn--primary" data-order-check>VerificÄƒ</button>
                            <button type="button" class="btn btn--ghost" data-order-reset>Reset</button>
                            <span class="practice-message" data-order-feedback aria-live="polite"></span>
                        </div>
                        <div class="practice-explanation"
                             data-practice-explanation
                             data-practice-default="{{ practice.data.explanation|default:'DacÄƒ rÄƒspunsul nu e corect, primeÈ™ti aici o explicaÈ›ie scurtÄƒ.'|escape }}">
                             {% if practice and practice.data.explanation %}
                                 {{ practice.data.explanation|linebreaks }}
                             {% else %}
                                 DacÄƒ rÄƒspunsul nu e corect, primeÈ™ti aici o explicaÈ›ie scurtÄƒ.
                             {% endif %}
                        </div>
                        <div class="practice-celebration" data-order-celebration aria-hidden="true">
                            âœ¨ Super! XP +5 pentru potrivirea corectÄƒ.
                        </div>
                    </article>
                </div>
            </section>

            <section class="lesson-section lesson-card lesson-card--quiz" id="test" data-lesson-section="Test" data-animate>
                <header class="lesson-card__header">
                    <span class="lesson-card__icon" aria-hidden="true">ðŸ§ </span>
                    <div>
                        <h2>Test</h2>
                        <p>O singurÄƒ Ã®ntrebare pentru a valida ce ai Ã®nvÄƒÈ›at.</p>
                    </div>
                </header>
                <div class="test-accordion" data-accordion>
                    <button class="test-accordion__toggle" type="button" data-accordion-toggle aria-expanded="true">
                        Deschide / Ã®nchide testul
                    </button>
                    <div class="test-accordion__panel is-open" data-accordion-panel>
                        {% if quiz_test %}
                            <article class="quiz-card"
                                     data-quiz
                                     data-submit-href="{% url 'estudy:submit_test_attempt' quiz_test.id %}"
                                     data-quiz-explanation="{{ quiz_test.explanation|default:'Variabilele pÄƒstreazÄƒ valori ce pot fi folosite oricÃ¢nd Ã®n program.' }}">
                                <h3 class="quiz-question">{{ quiz_test.question }}</h3>
                                <form class="quiz-form" method="post" novalidate>
                                    {% csrf_token %}
                                    <div class="quiz-options">
                                        {% for option in quiz_options %}
                                            <label class="quiz-option" data-quiz-option>
                                                <input type="radio" name="answer" value="{{ option }}">
                                                <span>{{ option }}</span>
                                            </label>
                                        {% endfor %}
                                    </div>
                                    <div class="quiz-actions">
                                        <button type="submit" class="btn btn--primary">Trimite rÄƒspunsul</button>
                                        <button type="button" class="btn btn--ghost" data-quiz-reset>Reia testul</button>
                                    </div>
                                </form>
                                <p class="quiz-feedback" data-quiz-feedback aria-live="polite"></p>
                                <div class="quiz-explanation hidden" data-quiz-explanation-block>
                                    <strong>ExplicaÈ›ie:</strong>
                                    <p data-quiz-explanation-text>{{ quiz_test.explanation|default:"Variabilele pÄƒstreazÄƒ valori ce pot fi folosite oricÃ¢nd Ã®n program." }}</p>
                                </div>
                            </article>
                        {% else %}
                            <p class="lesson-prose">Mini testul nu este Ã®ncÄƒ disponibil. Revino curÃ¢nd!</p>
                        {% endif %}
                    </div>
                </div>
            </section>

            <section class="lesson-section lesson-card lesson-summary" id="summary" data-lesson-section="Summary" data-animate>
                <header class="lesson-card__header">
                    <span class="lesson-card__icon" aria-hidden="true">ðŸš€</span>
                    <div>
                        <h2>Summary & Level up</h2>
                        <p>ÃŽnchide misiunea, revendicÄƒ XP-ul È™i continuÄƒ aventura.</p>
                    </div>
                </header>
                <div class="lesson-summary__body">
                    <div class="lesson-summary__status" data-summary-card>
                        {% if progress and progress.completed %}
                            <p>FelicitÄƒri! Ai finalizat lecÈ›ia â€” streak-ul tÄƒu se menÈ›ine.</p>
                        {% else %}
                            <p>EÈ™ti foarte aproape de final. MarcheazÄƒ lecÈ›ia È™i trecem la urmÄƒtoarea.</p>
                        {% endif %}
                        <div class="levelup-banner" data-levelup aria-hidden="true">
                            <strong>Level up!</strong>
                            <span>XP +{{ lesson.xp_reward|default:40 }}</span>
                        </div>
                    </div>
                    <div class="lesson-summary__actions">
                        <button class="btn btn--ghost toggle-completion"
                                data-complete-btn
                                data-label-pending="MarcheazÄƒ lecÈ›ia"
                                data-label-completed="LecÈ›ia bifatÄƒ"
                                data-complete-href="{% url 'estudy:toggle_lesson_completion' slug=lesson.slug %}">
                            {% if progress and progress.completed %}
                                LecÈ›ia bifatÄƒ
                            {% else %}
                                MarcheazÄƒ lecÈ›ia
                            {% endif %}
                        </button>
                        {% if next_lesson %}
                            <a class="btn btn--primary btn--large" href="{% url 'estudy:lesson_detail' slug=next_lesson.slug %}" data-next-lesson>
                                ContinuÄƒ aventura
                            </a>
                        {% endif %}
                    </div>
                    <p class="lesson-summary__tip">Tip: pÄƒstreazÄƒ streak-ul activ È™i cÃ¢È™tigÄƒ badge-uri noi.</p>
                </div>
            </section>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-python.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
<script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>
<script src="{% static 'estudy/lesson.js' %}" defer></script>
{% endblock %}
