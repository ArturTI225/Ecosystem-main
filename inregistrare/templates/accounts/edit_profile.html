{% extends 'accounts/base.html' %}
{% load static %}

{% block title %}Editeaza profilul - UNITEX{% endblock %}

{% block body_class %}auth-body profile-body{% endblock %}

{% block auth_content %}
<section class="profile-shell profile-shell--form">
    <aside class="profile-card profile-card--compact" data-animate>
        <div class="profile-card__avatar">
            {% if user_profile.avatar %}
                <img src="{{ user_profile.avatar.url }}" alt="Avatar utilizator">
            {% else %}
                <img src="https://api.dicebear.com/7.x/bottts/svg?background=%23d1fae5&radius=50&seed={{ user_profile.user.username|default:user.username|urlencode }}" alt="Avatar generat pentru {{ user_profile.name|default:user.username }}">
            {% endif %}
            <span class="profile-card__sticker profile-card__sticker--rocket" aria-hidden="true">üöÄ</span>
            <span class="profile-card__sticker profile-card__sticker--sparkle" aria-hidden="true">üí°</span>
        </div>
        <h1 class="profile-card__title">Personalizeaza-ti profilul</h1>
        <p class="profile-card__subtitle">
            Actualizeaza datele de contact, adauga o descriere si incarca o imagine reprezentativa ca sa te recunoasca echipa.
        </p>
        <ul class="profile-card__tips">
            <li><i class="fa-solid fa-wand-magic-sparkles"></i> Alege un avatar clar si prietenos.</li>
            <li><i class="fa-solid fa-shield-heart"></i> Pastreaza datele de contact actualizate.</li>
            <li><i class="fa-solid fa-meteor"></i> Foloseste bio-ul pentru a spune ce misiuni iti plac.</li>
        </ul>
    </aside>

    <div class="profile-form" data-animate>
        <form method="post" enctype="multipart/form-data" class="profile-form__body">
            {% csrf_token %}
            <div class="form-field form-field--file">
                <label for="id_avatar" class="form-label">Avatar</label>
                <div class="form-file-control">
                    {{ form.avatar }}
                    <span class="form-file-control__hint"><i class="fa-solid fa-cloud-arrow-up"></i> Incarca imagine PNG sau JPG (max 2MB)</span>
                </div>
            </div>

            <div class="form-grid">
                <div class="form-field">
                    <label for="id_name" class="form-label">Nume complet</label>
                    {{ form.name }}
                </div>
                <div class="form-field">
                    <label for="id_email" class="form-label">Email</label>
                    {{ form.email }}
                </div>
            </div>

            <div class="form-grid">
                <div class="form-field">
                    <label for="id_phone_number" class="form-label">Telefon</label>
                    {{ form.phone_number }}
                </div>
                <div class="form-field">
                    <label for="id_role" class="form-label">Rol</label>
                    {{ form.role }}
                </div>
            </div>

            <div class="form-field">
                <label for="id_bio" class="form-label">Bio</label>
                {{ form.bio }}
                <p class="form-hint">Ex: ‚ÄûCoordonez misiunile de robotica si iubesc provocarile logice‚Äù.</p>
            </div>

            {% if form.non_field_errors %}
                <div class="form-errors">
                    {{ form.non_field_errors }}
                </div>
            {% endif %}

            <div class="form-actions">
                <button type="submit" class="btn btn--primary"><i class="fa-solid fa-floppy-disk"></i> Salveaza modificarile</button>
                <a class="btn btn--ghost" href="{% url 'inregistrare_profile' %}"><i class="fa-solid fa-circle-chevron-left"></i> Renunta</a>
            </div>
        </form>
    </div>
</section>
{% endblock %}
